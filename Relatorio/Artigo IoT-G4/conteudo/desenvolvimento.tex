\section{Routing Protocols}

% \begin{figure*}[!t]
% 	\centering
% 	\includegraphics[width=0.7\textwidth]{figs/topology.eps}
% 	\caption{Wireless Network topology.}
% 	\label{Fig01}
% \end{figure*}

Traditional mesh routing solutions have focused on simply finding the best route to the gateway to reach the Internet. Two important underlying assumptions of these routing solutions are: 1) all gateway nodes are equally capable in terms of resources such as bandwidth capacity and delay to connect to the Internet; and/or 2) the capacity bottleneck is in the wireless multihop portion of the WMN \cite{Prashanth2015}.

Due to the severe energy constraints of large number of densely deployed sensor nodes, it requires a suite of network protocols to implement various network control and management functions such as synchronization, node localization, and network security. The traditional routing protocols have several shortcomings when applied to WSNs, which are mainly due to the energy-constrained nature of such networks \cite{Shio2010}.

OSPF is one of the most studied and well-known link state routing protocols to date. Being a link state protocol, every router maintains a complete map of the network topology. Consequently, at any given moment a router can compute the path to any destination in the network, based on its existing knowledge about the network \cite{Holter2010}.

\section{Environment Sensor System}
In many WSN applications, the deployment of sensor nodes is performed in an ad hoc fashion without careful planning and engineering. Once deployed, the sensor nodes must be able to autonomously organize themselves into a wireless communication network. Sensor nodes are battery-powered and are expected to operate without attendance for a relatively long period of time \cite{Shio2010}.

Computers have to be kept in a specific environment to function efficiently. Conditions such as heat, cold, dust and excessive humidity all can damage and lessen the performance of a computer. External and internal temperature especially causes fluctuations of performance, although a computer is more vulnerable to heat than to cold.

\subsection{Temperature}
\subsubsection{Overheating}
Electronic devices are vulnerable to overheating. The electronic components operate at a specific current induced by a voltage. The sensitivity of the components means that even a small fluctuation in voltage is dangerous. Excessive heat lowers the electrical resistance of objects, therefore increasing the current. In addition, slowdown is a result of overheating. Components can shut down when overheated.

\subsubsection{Cold Temperatures}
Cold temperatures are not as dangerous to a electronic devices as overheating is, but problems can still occurs. If Electronic devices get too cold when left powered off, their components can be damaged upon boot because the electricity heats the circuit. As electricity travels through a circuit, it heats rapidly and causes the matter to expand. Rapid expansion, when close to matter that remains the same size, it distorts it. This can bend or break component.

\subsubsection{Ideal Operating Temperatures}
Semiconductor parts are most often specified for use in the “commercial” 0 to 70°C and, to a lesser extent, in the “industrial” -40 to 85°C operating temperature range. These operating temperature ratings generally satisfy the demands of the dominant semiconductor customers in the computer, telecommunications, and consumer electronic industries \cite{Mishra2004}.

\subsection{Humidity}
Excessive humidity or dry air can exaggerate the effects of extreme temperatures on computer components. For example, dry air causes static electricity to build up. Coupled with the increased conductivity from heat, this can cause errant discharges. Conversely, cold and humid areas create condensation and water, which can create a short circuit.

\subsection{Luminosity}
In the wireless sensor network context, the luminosity factor may be extremely decisively, once the network nodes are generally supplied by batteries that can be recharged by solar panels.

\section{Context-aware routing}
The Reconfiguration Manager performs cross-layer context monitoring throughout the system and reorganizes, in co-ordination with the Context Source Manager, the mappings between context fact types in the context models and appropriate sources. This is the component in ACoMS that delivers its self-healing capabilities.


%\begin{figure}[h]
%\centering
%\includegraphics[width=0.4\textwidth]{/figs/topology.eps}
%\caption{Network topology.}
%\label{fig_topology}
%\end{figure}

\subsubsection{Environment context Criteria Decision}



\subsection{Hardware select} % (fold)
\label{sub:hardware_select}

%% ------------------   Traduzir   ------------------

\subsubsection{Sensor de Umidade e Temperatura: DHT11}

O DHT11 é um sensor de temperatura e umidade que permite fazer leituras de temperaturas entre 0 a 50 Celsius e umidade entre 20 a 90\%.

\begin{figure}[h]
\centering

    \begin{subfigure}[b]{0.2\textwidth}
		\includegraphics[width=\textwidth]{figs/dht11}
		\caption{DHT11 view}
		\label{fig-dht11}
    \end{subfigure}
    %
    \begin{subfigure}[b]{0.2\textwidth}
	\includegraphics[width=\textwidth]{figs/dht11-pinagem}
	\caption{DHT11 pins}
	\label{fig-dht11-1}
    \end{subfigure}
	\caption{DHT11 sensor}
\end{figure}


O valor de temperatura é aferido através de um termistor NTC(Negative Temperature Coefficient-termistores cujo coeficiente de variação de resistência com a temperatura é negativo: a resistência abaixa com o aumento da temperatura) e a umidade relativa através de um sensor capacitivo (capacitor de polímero especial)\cite{robotics2010dht11}. 


\subsubsection{Sensor de luminosidade: LDR(Light Dependent Resistor)}


O LDR(Light Dependent Resistor) possui uma característica que faz com que sua resistência varie conforme a luminosidade incendida sobre ele. Isto possibilita a utilização deste componente para desenvolver um sensor que é ativado (ou desativado) quando sobre ele incidir uma certa luminosidade.

\begin{figure}[!tb]
\centering
\includegraphics[width=0.38\textwidth]{figs/ldr}
\caption{LDR sensor}
\label{fig-ldr}
\end{figure}


A resistência do LDR varia de forma inversamente proporcional à quantidade de luz incidente sobre ele, isto é, enquanto o feixe de luz estiver incidindo sobre ele, o LDR oferece uma resistência muito baixa, e quando este feixe é cortado, sua resistência aumenta\cite{ldr2010manual}.

\begin{figure}[!tb]
\centering
\includegraphics[width=0.38\textwidth]{figs/ldr-1}
\caption{LDR sensor use}
\label{fig-ldr-1}
\end{figure}


%% ------------------   Traduzir   ------------------

% ../externos/dados/LDR.csv

\begin{figure}[!tb]
  \begin{center}
    \begin{tikzpicture}
      \begin{axis}[
          width=\linewidth, % Scale the plot to \linewidth
          grid=major, 
          grid style={dashed,gray!30},
          % xlabel=X Axis $U$, % Set the labels
          ylabel=Light,
          % x unit=\si{\volt}, % Set the respective units
          % y unit=\si{\ampere},
          legend style={at={(0.5,-0.2)},anchor=north},
          x tick label style={rotate=90,anchor=east}
        ]
        \addplot 
        % add a plot from table; you select the columns by using the actual name in
        % the .csv file (on top)
        table[x=x,y=light,col sep=comma] {../externos/dados/LDR.csv}; 
        % \legend{Plot}
      \end{axis}
    \end{tikzpicture}
    \caption{Light read from sensor}
  \end{center}
\end{figure}

\begin{figure}[!tb]
  \begin{center}
    \begin{tikzpicture}
      \begin{axis}[
          width=\linewidth, % Scale the plot to \linewidth
          grid=major, 
          grid style={dashed,gray!30},
          % xlabel=X Axis $U$, % Set the labels
          ylabel=Temperature,
          % x unit=\si{\volt}, % Set the respective units
          % y unit=\si{\ampere},
          legend style={at={(0.5,-0.2)},anchor=north},
          x tick label style={rotate=90,anchor=east}
        ]
        \addplot 
        % add a plot from table; you select the columns by using the actual name in
        % the .csv file (on top)
        table[x=x,y=temperature,col sep=comma] {../externos/dados/DHT.csv}; 
        % \legend{Plot}
      \end{axis}
    \end{tikzpicture}
    \caption{Temperature read from sensor}
  \end{center}
\end{figure}

\begin{figure}[!tb]
  \begin{center}
    \begin{tikzpicture}
      \begin{axis}[
          width=\linewidth, % Scale the plot to \linewidth
          grid=major, 
          grid style={dashed,gray!30},
          % xlabel=X Axis $U$, % Set the labels
          ylabel=Humidity,
          % x unit=\si{\volt}, % Set the respective units
          % y unit=\si{\ampere},
          legend style={at={(0.5,-0.2)},anchor=north},
          x tick label style={rotate=90,anchor=east}
        ]
        \addplot 
        % add a plot from table; you select the columns by using the actual name in
        % the .csv file (on top)
        table[x=x,y=humidity,col sep=comma] {../externos/dados/DHT.csv}; 
        % \legend{Plot}
      \end{axis}
    \end{tikzpicture}
    \caption{Humidity read from sensor}
  \end{center}
\end{figure}